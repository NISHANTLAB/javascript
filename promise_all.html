<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise.all()</title>
<script>
    let p1 =new Promise((resolve,reject)=>{
      setTimeout(()=>{
       console.log("The first promise has resolved");
       resolve(10);
      },2000)
    });

    let p2 =new Promise((resolve,reject)=>{
      setTimeout(()=>{
       console.log("The second promise has resolved");
       resolve(20);
      },4000)
    });

    let p3 =new Promise((resolve,reject)=>{
      setTimeout(()=>{
       console.log("The third promise has resolved");
       resolve(30);
      },6000)
    });

    var total =0;
    Promise.all([p1,p2,p3]).then((result)=>{
        for(var i in result){
            total+=result[i];
        }
        console.log(`Results : ${result}`);
        console.log(`Total: ${total}`);
    }).catch((error)=>{
        console.log(`Error : ${error}`);
    });




    // let promiseCall =function(retunData,message){
    //     return function(resolve,reject){
    //         setTimeout(()=>{
    //             console.log(`The ${message} promise has resolved.`);
    //             resolve(retunData);
    //         },retunData * 100);
    //     }
    // };
    // let p1 =new Promise(promiseCall(10,"FIRST"));
    // let p2 =new Promise(promiseCall(20,"SECOND"));
    // let p3 =new Promise(promiseCall(30,"THIRD"));
    // let p4 =new Promise(function(resolve,reject){
    //    reject ("The FOURTH promise has rejected.");
    // });
    // var total =0;
    // Promise.all([p1,p2,p3,p4]).then((result)=>{
    //     for(var i in result){
    //         total+=result[i];
    //     }
    //     console.log(`Results : ${result}`);
    //     console.log(`Total: ${total}`);
    // }).catch((error)=>{
    //     console.log(`Error : ${error}`);
    // });
</script>

</head>
<body>
    
</body>
</html>